<?xml version="1.0" ?>
<odoo>
    <record id="module_sirius_category" model="ir.module.category">
        <field name="name">Sirius Athletic System</field>
    </record>
<!-- Definicion de grupos de acceso a usuarios -->
    <record id="group_atleta" model="res.groups">
        <field name="name">Atleta</field>
        <field name="category_id" ref="module_sirius_category"/>
        <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        <!-- <field name="users" eval="[(4,ref('base.group_user'))]"/> -->
    </record>

    <record id="group_sensei" model="res.groups">
        <field name="name">Instructor</field>
        <field name="category_id" ref="module_sirius_category"/>
        <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        <!-- <field name="implied_ids" eval="[(4,ref('sirius_athletic_system.sirius_group_athlete')),(4,ref('base.group_partner_manager'))]"/> -->
        <!-- <field name="users" eval="[(4,ref('base.group_user'))]"/> -->
    </record>

    <record id="group_director" model="res.groups">
        <field name="name">Director</field>
        <field name="category_id" ref="module_sirius_category"/>
        <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        <!-- <field name="implied_ids" eval="[(4,ref('sirius_athletic_system.sirius_group_sensei')),(4,ref('base.group_system'))]"/> -->
        <!-- <field name="users" eval="[(4,ref('base.user_admin'))]"/> -->
    </record>
    <record model="res.groups" id="group_secretary">
        <field name="name">Secretario</field>
        <field name="category_id" ref="module_sirius_category"/>
        <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
    </record>
    <record id="group_administrador" model="res.groups">
        <field name="name">Modo Dios</field>
        <field name="category_id" ref="module_sirius_category"/>
        <!-- <field name="implied_ids" eval="[(4,ref('sirius_athletic_system.sirius_group_director')),(4,ref('base.group_system'))]"/> -->
        <field name="users" eval="[(4,ref('base.user_admin'))]"/>
    </record>

<!-- DefiniciÃ³n de reglas de acceso -->
    <record id="athlete_director_rule" model="ir.rule">
        <field name="name">athletes only for themselfr</field>
        <field name="model_id" ref="model_sirius_athlete"/>
        <field name="groups" eval="[(4, ref('sirius_athletic_system.group_director'))]"/>
        <field name="domain_force">
            [(1,'=',1)]
        </field>
    </record>
    <record id="athlete_user_rule" model="ir.rule">
        <field name="name">RestriciÃ³n de vistas de los atletas</field>
        <field name="model_id" ref="model_sirius_athlete"/>
        <field name="groups" eval="[(4, ref('sirius_athletic_system.group_atleta')),(4,ref('sirius_athletic_system.group_sensei'))]"/>
        <field name="domain_force">
            ['|',('create_uid','=',user.id),'|',('user_id','=',user.id),('sensei_id.user_id','=',user.id)]
        </field>
    </record>
    <record id="sensei_user_rule" model="ir.rule">
        <field name="name">sensei only for themselfr</field>
        <field name="model_id" ref="model_sirius_sensei"/>
        <field name="groups" eval="[(4,ref('sirius_athletic_system.group_sensei'))]"/>
        <field name="domain_force">
            ['|',('create_uid','=',user.id),('user_id','=',user.id)]
        </field>
    </record>
    <record id="measure_user_rule" model="ir.rule">
        <field name="name">users only see relevant data</field>
        <field name="model_id" ref="model_sirius_measure"/>
        <field name="groups" eval="[(4, ref('sirius_athletic_system.group_atleta'))]"/>
        <field name="domain_force">
            ['|',('create_uid','=',user.id),('athlete_id.user_id','=',user.id)]
        </field>
        <!--<field name="groups" eval="[(4,ref('base.group_user'))]"/>-->
    </record>
    <record id="measure_sensei_rule" model="ir.rule">
        <field name="name">sensei only see relevant data</field>
        <field name="model_id" ref="model_sirius_measure"/>
        <field name="groups" eval="[(4, ref('sirius_athletic_system.group_sensei'))]"/>
        <field name="domain_force">
            ['|',('create_uid','=',user.id),('athlete_id.sensei_id.user_id','=',user.id)]
        </field>
        <!--<field name="groups" eval="[(4,ref('base.group_user'))]"/>-->
    </record>
    <record id="measure_director_rule" model="ir.rule">
        <field name="name">director see all data</field>
        <field name="model_id" ref="model_sirius_measure"/>
        <field name="groups" eval="[(4, ref('sirius_athletic_system.group_director'))]"/>
        <field name="domain_force">
            [(1,'=',1)]
        </field>
        <!--<field name="groups" eval="[(4,ref('base.group_user'))]"/>-->
    </record>

 <!-- Library Athlete Views Rules -->
</odoo>
