<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
  <data>
    <record id="atleta_view_kanban" model="ir.ui.view">
      <field name="name">Atletas Kanban</field>
      <field name="model">sirius.athlete</field>
      <field name="arch" type="xml">
        <kanban class="o_res_partner_kanban">
          <field name="id"/>
          <field name="image_1920"/>
          <templates>
            <t t-name="kanban-box">
              <div t-attf-class="oe_kanban_global_click o_res_partner_kanban">
                <div class="o_kanban_image" style="width: 70px;height: 70px;">
                  <t t-if="record.image_1920.value">
                    <img t-att-src="kanban_image('sirius.athlete', 'image_1920', record.id.raw_value)" alt="Atleta"/>
                  </t>
                  <t t-if="!record.image_1920.value">
                    <img t-att-src='_s + "/base/static/img/avatar.png"' alt="Atleta"/>
                  </t>
                </div>
                <div class="oe_kanban_details">
                  <h4>
                    <a type="open">
                      <field name="name"/>
                    </a>
                  </h4>
                  <ul>
                    <li t-if="record.vat">
                      <span>Cédula:</span>
                      <field name="vat"/>
                    </li>
                    <li t-if="record.grade">
                      <span>Grado:</span>
                      <field name="grade"/>
                    </li>
                  </ul>
                </div>
              </div>
            </t>
          </templates>
        </kanban>
      </field>
    </record>
    <!-- explicit list view definition -->
    <record id="atleta_view_list" model="ir.ui.view">
      <field name="name">Lista de Atletas</field>
      <field name="model">sirius.athlete</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
          <field name="grade"/>
        </tree>
      </field>
    </record>
    <record id="atleta_view_form" model="ir.ui.view">
      <field name="name">Formulario de nuevos atletas</field>
      <field name="model">sirius.athlete</field>
      <field name="arch" type="xml">
        <form string="Registro de Usuario">
          <!-- <header groups="base.group_user">
            <button name="act_send" states="draft"
                    type="object" string="Enviar"
                    class="oe_highlight" groups="sirius_athletic_system.sirius_group_athlete"/>
            <button name="act_set_to_draft" states="send,canceled"
                    type="object" string="Pasar a Borrador"
                    groups="sirius_athletic_system.sirius_group_athlete"/>
            <button name="act_approved" class="oe_highlight"
                    states="send" type="object" string="Confirmar"
                    groups="sirius_athletic_system.sirius_group_sensei"/>
            <button name="act_canceled" states="approved,send"
                    type="object" string="Cancel"
                    groups="sirius_athletic_system.sirius_group_sensei"/>
            <field name="state" widget="statusbar" statusbar_visible="draft,send,approved"/>
          </header> -->
        <sheet>
          <h1>Plantilla de Atleta</h1>
            <group col= "3" string="Identificación">
              <group style="width:10%">
                <field name="image_1920" 
                  widget='image' 
                  class="oe_avatar" 
                  nolabel="1"
                  style="margin-right:10px;" 
                  options='{"preview_image": "image_128"}'/>
              </group>
              <group style="width:70%"> 
              <div class="oe_title w-auto">
                <h2> 
                  <field name="name" placeholder="Name" required="1" invisible="1"/>
                    <table>
                        <tr style="padding-right:20px;">
                          <td style="padding-left:10px;">
                            <field name="first_name" required="1" placeholder="Primer Nombre"/>
                          </td>
                          <td style="padding-left:10px;">
                            <field name="second_name" placeholder="Segundo Nombre"/>
                          </td>
                          <td style="padding-left:10px;">
                            <field name="middle_name" placeholder="Primer Apellido"  required="1" />
                          </td>
                          <td style="padding-left:10px;">
                            <field name="last_name" placeholder="Segundo Apellido"/>
                          </td>
                        </tr>
                    </table>
                </h2>
              </div>
              </group>
            </group>
            <group name="details" string="Detalles del Atleta">
              <group>
                <field name="grade"/>
                <field name="grade_code" string = "Acta de Grado"/>
              </group>
              <group>
                <field name="is_national"
                attrs="{'invisible': [('is_grown', '=', True)]}"/>
                <field name="is_state"
                attrs="{'invisible': [('is_grown', '=', True)]}"/>
                <field name="is_grown"
                attrs="{'invisible': ['|',('is_state', '=', True),('is_national', '=', True)]}"/>
              </group>
            </group>
            <group colspan="2">
              <group string = "Representante Legal" colspan="4" style="width:100%">
                <field name="legal_rep" style="width:60%"/>
                <group string="Datos del Padre" col="2" attrs="{'invisible': [('legal_rep','not in',('padre','ambos'))]}" style="width:50%">
                  <field name="father_name" string = "Nombre del Padre" help = "Nombre del padre con la primera letra en mayúscula y sin acentos"/>
                  <field name="father_bdate" string = "Fecha de nacimiento" help = "Fecha de nacimiento del padre"/>
                  <field name="father_vat"/>
                  <field name="father_tlf" string = "Número de teléfono" help = "Número de teléfono del padre"/>
                  <field name="father_mail" string = "E-mail" help = "Correo electrónico del padre"/>
                  <field name="father_career" string = "Profesión" help = "Profesión o especialidad del padre"/>
                </group>
                <group string="Datos de la Madre" attrs="{'invisible': [('legal_rep','not in',('madre','ambos'))]}" style="width:50%">
                  <field name="mother_name" string = "Nombre de la Madre" help = "Nombre de la madre con la primera letra en mayúscula y sin acentos"/>
                  <field name="mother_bdate" string = "Fecha de nacimiento" help = "Fecha de nacimiento de la madre"/>
                  <field name="mother_vat"/>
                  <field name="mother_tlf" string = "Número de teléfono" help = "Número de teléfono de la madre"/>
                  <field name="mother_mail" string = "E-mail" help = "Correo electrónico de la madre"/>
                  <field name="mother_career" string = "Profesión" help = "Profesión o especialidad de la madre"/>
                </group>
                <group string="Datos de Representante" attrs="{'invisible': [('legal_rep','in',('otro'))]}" style="width:50%">
                  <field name="legal_rep_other" string = "Relación Filial" help = "Indique la relación filial que tiene el representante con el atleta"/>
                  <field name="other_name" string = "Nombre del Representante" help = "Nombre del representante con la primera letra en mayúscula y sin acentos"/>
                  <field name="other_bdate" string = "Fecha de nacimiento" help = "Fecha de nacimiento del representante"/>
                  <field name="other_vat"/>
                  <field name="other_tlf" string = "Número de teléfono" help = "Número de teléfono del representante"/>
                  <field name="other_mail" string = "E-mail" help = "Correo electrónico del representante"/>
                  <field name="other_career" string = "Profesión" help = "Profesión o especialidad del representante"/>
                </group>
              </group>
              <!-- <group string="Datos Institucionales">
                <field name="asociacion_id"/>
                <field name="organizacion_id"/>
                <field name="dojo_id"/>
                <field name="sensei_id"/>
                <field name="user_id" groups="sirius_athletic_system.sirius_group_sensei"/>
              </group> -->
            </group>
            <!-- <group name="medidas" string="Medidas del Atleta">
              <field name="measure_ids">
                <tree>
                  <field name="name"/>
                  <field name="athlete_height"/>
                  <field name="athlete_weight"/>
                  <field name="waist_diam"/>
                  <field name="plexus_diam"/>
                  <field name="wingspan"/>
                  <field name="height_wf"/>
                  <field name="shoe_size"/>
                  ield name="academia_id"
                  ield name="sensei_id"
                </tree>
              </field>
            </group> -->
          </sheet>
        </form>
      </field>
    </record>
    <!-- <record id="athlete_view_pivot" model="ir.ui.view">
        <field name="name">Tabla de Atletas</field>
        <field name="model">sirius.athlete</field>
        <field name="arch" type="xml">
            <pivot>
                <field name="dojo_id" type= "row"/>
            </pivot>
        </field>
    </record> -->
    <record id = "athlete_view_graph" model="ir.ui.view">
      <field name = "model">sirius.athlete</field>
      <field name = "arch" type = "xml">
        <graph type = "bar">
          <field name = "name"/>
        </graph>
      </field>
    </record>
    <record id="view_search_book" model="ir.ui.view">
      <field name="name">Filtros de Atletas</field>
      <field name="model">sirius.athlete</field>
      <field name="arch" type="xml">
        <search>
          <field name="name"/>
          <field name="grade"/>
          <!-- <filter name="sensei" string="Sensei" context="{'group_by':'sensei_id'}"/> -->
          <!-- <filter name="dojo" string="Dojo" context="{'group_by':'dojo_id'}"/> -->
          <!-- <filter name="organizacion" string="Organización" context="{'group_by':'organizacion_id'}"/> -->
          <!-- <filter name="asociacion" string="Asociación" context="{'group_by':'asociacion_id'}"/> -->
          <filter name="grade" string="Grado" context="{'group_by':'grade'}"/>
          <filter name="atleta_inactivo" string="Inactivo" domain="[('active','=',True)]"/>
          <filter name="atleta_activo" string="Activo" domain="[('active','=',False)]"/>
        </search>
      </field>
    </record>
  </data>
</odoo>